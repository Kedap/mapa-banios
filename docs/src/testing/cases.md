# 7.1. Casos de Prueba (Ejemplos)

A continuación, se presenta una selección representativa de casos de prueba diseñados para validar las funcionalidades más críticas del sistema "LocalizaBaño". Cada caso simula una interacción del usuario o una prueba directa a la API para verificar que el resultado obtenido es el esperado.

| ID del Caso | Módulo                | Descripción del Caso                                               | Pasos a Seguir                                                                                                                                                                              | Resultado Esperado                                                                                                                                                               |
| :---------- | :-------------------- | :----------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **TP-01**   | Visualización         | Carga inicial de baños en el mapa.                                 | 1. Cargar la página principal (`http://localhost:3000`).                                                                                                                                    | El mapa se inicializa correctamente y muestra múltiples marcadores correspondientes a los baños en la base de datos de prueba.                                                   |
| **TP-02**   | Visualización         | Ver detalles de un baño.                                           | 1. Cargar la página. 2. Hacer clic en un marcador del mapa.                                                                                                                                 | El panel lateral se actualiza y muestra la información completa del baño seleccionado, incluyendo sus características y la lista de reseñas existentes.                          |
| **TP-03**   | Interacción           | Enviar una nueva reseña con un nombre existente.                   | 1. Ver los detalles de un baño. 2. Rellenar el formulario de reseña usando un `nombre_usuario` que ya existe en la BD (ej: "AnaG"). 3. Enviar el formulario.                                | La nueva reseña aparece dinámicamente en la lista. Al revisar la base de datos, no se debe haber creado un nuevo registro en la tabla `USUARIOS`.                                |
| **TP-04**   | Interacción           | Enviar una nueva reseña con un nombre nuevo (Lógica Just-in-Time). | 1. Ver los detalles de un baño. 2. Rellenar el formulario de reseña usando un `nombre_usuario` completamente nuevo (ej: "UsuarioDePrueba123"). 3. Enviar el formulario.                     | La nueva reseña aparece en la lista. Al revisar la base de datos, se debe haber creado **un nuevo registro** en la tabla `USUARIOS` con ese nombre.                              |
| **TP-05**   | Interacción           | Enviar una reseña con datos incompletos.                           | 1. Ver los detalles de un baño. 2. Rellenar el comentario pero dejar el campo "Tu Nombre" vacío. 3. Enviar el formulario.                                                                   | La aplicación muestra una alerta o un mensaje de error en la interfaz indicando que el nombre es obligatorio, y no se realiza ninguna petición a la API.                         |
| **TP-06**   | Creación de Contenido | Añadir un nuevo baño con éxito.                                    | 1. Hacer clic en "Añadir Nuevo Baño". 2. Seleccionar una ubicación en el mapa. 3. Rellenar todos los campos del formulario, incluyendo la selección de características. 4. Guardar el baño. | Se muestra un mensaje de éxito. El panel lateral se limpia y un nuevo marcador permanente aparece en el mapa en la ubicación seleccionada.                                       |
| **TP-07**   | Creación de Contenido | Añadir un baño sin seleccionar ubicación.                          | 1. Hacer clic en "Añadir Nuevo Baño". 2. Rellenar los campos de texto del formulario. 3. Intentar guardar sin haber hecho clic en el mapa.                                                  | La aplicación muestra una alerta o un mensaje de error en la interfaz indicando que la ubicación es obligatoria.                                                                 |
| **TP-08**   | API                   | (Postman) Obtener un baño que no existe.                           | 1. Usar Postman o una herramienta similar. 2. Hacer una petición `GET` a `/api/banios/9999` (donde 9999 es un ID inexistente).                                                              | El servidor debe responder con un código de estado **HTTP 404 (Not Found)** y un mensaje JSON de error como `{"error": "Baño no encontrado"}`.                                   |
| **TP-09**   | API                   | (Postman) Crear un baño con datos inválidos.                       | 1. Usar Postman. 2. Hacer una petición `POST` a `/api/banios` pero omitiendo el campo `nombre` en el cuerpo JSON.                                                                           | El servidor debe responder con un código de estado **HTTP 400 (Bad Request)** y un mensaje JSON de error como `{"error": "El nombre y la ubicación son obligatorios."}`.         |
| **TP-10**   | Integridad de Datos   | Verificar asociación de características.                           | 1. Realizar los pasos del TP-06, seleccionando 3 características específicas. 2. Consultar la base de datos directamente para verificar la tabla `BAÑO_CARACTERISTICAS`.                    | Deben existir 3 nuevos registros en la tabla `BAÑO_CARACTERISTICAS` que vinculan el `id_baño` del nuevo baño con los `id_caracteristica` de las 3 características seleccionadas. |
